(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{30:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},33:function(e,t,a){e.exports=a(68)},38:function(e,t,a){},39:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),o=a(29),r=a.n(o),s=a(16),i=a(5),m=a(6),c=a(8),d=a(7),u=a(9),p=(a(38),a(10)),h=(a(39),function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("div",{className:"showcase"},n.a.createElement("button",{type:"button",className:"button"}," ",n.a.createElement("a",{href:"/employees"},"Welcome")," ")))}}]),t}(n.a.Component)),E=a(2),y=a.n(E),f=(a(58),a(30)),g=a.n(f),v=(a(59),function(){return n.a.createElement("main",null,n.a.createElement("nav",{className:"navbar navbar-dark bg-dark"},n.a.createElement("a",{className:"navbar-brand",href:"/employees"},"Employee System",n.a.createElement("img",{src:g.a,className:"App-logo",alt:"logo"})),n.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},n.a.createElement("span",{className:"navbar-toggler-icon"})),n.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},n.a.createElement("ul",{className:"navbar-nav mr-auto"}),n.a.createElement("span",{className:"navbar-text"},n.a.createElement("ul",{className:"navbar-nav mr-auto"},n.a.createElement("li",{className:"nav-item active"},n.a.createElement("a",{className:"nav-link",href:"/employees"},"All Employees")),n.a.createElement("li",{className:"nav-item active"},n.a.createElement("a",{className:"nav-link",href:"/create"},"Create New Employee")))))))}),b=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(d.a)(t).call(this))).state={employees:[],alert:""},e}return Object(u.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;y.a.get("/api/employees").then((function(t){var a=t.data.employees;console.log({employees:a}),e.setState({employees:a})})).catch((function(e){return console.log(e)}))}},{key:"deleteEmployee",value:function(e){var t=this,a=""+e;y.a.post("/api/delete/",{id:a}).then((function(e){if("error"===e.data.name)console.log(e.data.detail),t.setState({alert:"Employee deletion unsuccessful"}),window.scrollTo(0,0);else{var a=e.data.deletedEmployee;t.setState({alert:"Employee ".concat(a.firstname," ").concat(a.lastname," has been deleted")}),setTimeout(function(){window.location.reload()}.bind(t),1500)}})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state.employees.map((function(t){var a=e.state.employees.indexOf(t)+1;return n.a.createElement("tr",{className:"table-data",key:a},n.a.createElement("td",null,a),n.a.createElement("td",null,t.firstname," ",t.lastname),n.a.createElement("td",null," ",n.a.createElement("a",{href:"/show/".concat(t.id)},"Show")," ",n.a.createElement("span",{className:"divider"},"|")," ",n.a.createElement("a",{href:"/edit/".concat(t.id)},"Edit")," ",n.a.createElement("span",{className:"divider"},"|"),"  ",n.a.createElement("a",{"data-toggle":"collapse",href:"#collapseExample"+t.id,role:"button","aria-expanded":"false","aria-controls":"collapseExample",onClick:function(){return window.scrollTo(0,0)}}," Delete ")," "))})),a=n.a.createElement("p",{className:"text-center mt-5 mb-5"},"You do not have any employees yet, let's create some!");this.state.employees.length>0&&(a=n.a.createElement("table",{className:"table"},n.a.createElement("thead",{className:"thead-dark"},n.a.createElement("tr",null,n.a.createElement("th",{scope:"col"},"#"),n.a.createElement("th",{scope:"col"},"Name"),n.a.createElement("th",{scope:"col"}))),n.a.createElement("tbody",null,t)));var l=this.state.employees.map((function(t){return n.a.createElement("div",{className:"collapse",key:t.id,id:"collapseExample"+t.id},n.a.createElement("div",{className:"card card-body"},n.a.createElement("div",{className:"text-right"},n.a.createElement("a",{className:"btn btn-sm btn-secondary","data-toggle":"collapse",href:"#collapseExample"+t.id,role:"button","aria-expanded":"false","aria-controls":"collapseExample"}," X ")),"Are you sure you want to delete ",t.firstname," ",t.lastname," ?",n.a.createElement("br",null),"This employee will permanently be deleted from the database",n.a.createElement("br",null),n.a.createElement("div",{className:"mt-5"},n.a.createElement("button",{className:"btn btn-outline-danger",onClick:function(){return e.deleteEmployee(t.id)}},"Yes delete permanently"))))})),o=null;return this.state.alert&&(o=n.a.createElement("div",{className:"alert alert-danger text-center",role:"alert"},this.state.alert),setTimeout(function(){this.setState({alert:""})}.bind(this),5e3)),n.a.createElement("div",null,n.a.createElement(v,null),o,l,n.a.createElement("h1",{className:"title"},"All Employees"),a,n.a.createElement("div",{className:"buttonDiv"},n.a.createElement("button",{className:"button2"}," ",n.a.createElement("a",{href:"/create"},"Create Employee")," ")))}}]),t}(n.a.Component),N=(a(60),function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(d.a)(t).call(this))).state={employees:[],addEmployee:{firstname:"",lastname:"",phone:"",email:"",image:"",work_under_id:"",work_under_name:""},redirectID:"",redirect:!1,alert:""},e}return Object(u.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;y.a.get("/api/employees").then((function(t){var a=t.data.employees;console.log({employees:a}),e.setState({employees:a})})).catch((function(e){return console.log(e)}))}},{key:"getFirstName",value:function(e){var t=this.state.addEmployee;t.firstname=e.target.value,this.setState({addEmployee:t}),console.log(this.state.addEmployee)}},{key:"getLastName",value:function(e){var t=this.state.addEmployee;t.lastname=e.target.value,this.setState({addEmployee:t}),console.log(this.state.addEmployee)}},{key:"getPhone",value:function(e){var t=this.state.addEmployee;t.phone=e.target.value,this.setState({addEmployee:t}),console.log(this.state.addEmployee)}},{key:"getEmail",value:function(e){var t=this.state.addEmployee;t.email=e.target.value,this.setState({addEmployee:t}),console.log(this.state.addEmployee)}},{key:"getPicture",value:function(e){var t=this.state.addEmployee;t.image=e.target.value,this.setState({addEmployee:t}),console.log(this.state.addEmployee)}},{key:"getBoss",value:function(e){var t=this.state.addEmployee;t.work_under_id=e.target.value,t.work_under_name=e.target.selectedOptions[0].text,this.setState({addEmployee:t}),console.log(this.state.addEmployee)}},{key:"addEmployee",value:function(){var e=this,t=this.state.addEmployee;t.firstname&&t.lastname&&t.phone&&t.email?t.email.includes("@")&&t.email.indexOf("@")!==t.email.length-1?y.a.post("/api/addemployee/",{addEmployee:t}).then((function(t){if("error"===t.data.name)console.log(t.data.detail),e.setState({alert:"Email: ".concat(e.state.addEmployee.email," already exists")}),window.scrollTo(0,0);else{var a=t.data.addedEmployee[0].id;e.setState({redirectID:a}),e.setState({redirect:!0})}})).catch((function(e){console.log(e)})):(this.setState({alert:"Please fill in a valid email"}),window.scrollTo(0,0)):(this.setState({alert:"Please fill in all the mandatory details"}),window.scrollTo(0,0))}},{key:"renderRedirect",value:function(){var e=""+this.state.redirectID;if(this.state.redirect&&this.state.redirectID)return n.a.createElement(p.a,{to:"/show/"+e})}},{key:"render",value:function(){var e=this,t=this.state.employees.map((function(e){return n.a.createElement("option",{value:e.id},e.firstname," ",e.lastname)})),a=null;return this.state.alert&&(a=n.a.createElement("div",{className:"alert alert-danger text-center",role:"alert"},this.state.alert),setTimeout(function(){this.setState({alert:""})}.bind(this),5e3)),n.a.createElement("div",null,n.a.createElement(v,null),a,this.renderRedirect(),n.a.createElement("div",{className:"container"},n.a.createElement("h1",{className:"title"},"Create Employee Here"),n.a.createElement("form",{className:"mb-5"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"exampleFormControlInput1"},"First Name *"),n.a.createElement("input",{name:"firstName",type:"text",className:"form-control",id:"exampleFormControlInput1",placeholder:"John",required:!0,onChange:function(t){return e.getFirstName(t)}})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"exampleFormControlInput2"},"Last Name *"),n.a.createElement("input",{name:"lastName",type:"text",className:"form-control",id:"exampleFormControlInput2",placeholder:"Smith",required:!0,onChange:function(t){return e.getLastName(t)}})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"exampleFormControlInput3"},"Phone Number *",n.a.createElement("small",{id:"emailHelp",className:"form-text text-muted"},"(Up to 15 characters)")),n.a.createElement("input",{name:"phone",type:"text",className:"form-control",id:"exampleFormControlInput3",placeholder:"111-222-333",required:!0,onChange:function(t){return e.getPhone(t)}})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"exampleFormControlInput4"},"Email Address *"),n.a.createElement("input",{name:"email",type:"email",className:"form-control",id:"exampleFormControlInput4",placeholder:"someone@email.com",required:!0,onChange:function(t){return e.getEmail(t)}})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"exampleFormControlInput5"},"Profile Picture"),n.a.createElement("input",{name:"image",type:"text",className:"form-control",id:"exampleFormControlInput5",placeholder:"Place link here",onChange:function(t){return e.getPicture(t)}})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"exampleFormControlSelect1"},"Works Under"),n.a.createElement("select",{name:"worksUnder",className:"form-control",id:"exampleFormControlSelect1",onChange:function(t){return e.getBoss(t)}},n.a.createElement("option",{selected:!0,disabled:!0},"Choose Employee"),t)),n.a.createElement("button",{type:"button",className:"button3",onClick:function(){return e.addEmployee()}},"Create Employee"))))}}]),t}(n.a.Component)),k=(a(66),function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(d.a)(t).call(this))).state={selectedEmployee:"",bosses:[]},e}return Object(u.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;y.a.get("/api/employee/"+t).then((function(t){var a=t.data.selectedEmployee[0];console.log({selectedEmployee:a}),e.setState({selectedEmployee:a})})).catch((function(e){return console.log(e)}))}},{key:"componentDidUpdate",value:function(){this.state.selectedEmployee.work_under_id&&0===this.state.bosses.length&&this.getBosses(this.state.selectedEmployee.work_under_id)}},{key:"getBosses",value:function(e){var t=this,a=""+e;y.a.get("/api/employee/"+a).then((function(e){var a=e.data.selectedEmployee[0],l=t.state.bosses;l.push(a),t.setState({bosses:l}),a.work_under_id&&t.getBosses(a.work_under_id)})).catch((function(e){return console.log(e)})),console.log(this.state)}},{key:"render",value:function(){var e,t=this.state.selectedEmployee.firstname+" "+this.state.selectedEmployee.lastname,a=this.state.selectedEmployee.phone,l=this.state.selectedEmployee.email,o=this.state.selectedEmployee.image||"https://i.pinimg.com/originals/19/b8/d6/19b8d6e9b13eef23ec9c746968bb88b1.jpg";return e=0===this.state.bosses.length?"Nil":this.state.bosses.map((function(e){return n.a.createElement("span",null," ",n.a.createElement("a",{href:"/show/".concat(e.id)},e.firstname)," >> ")})),n.a.createElement("div",null,n.a.createElement(v,null),n.a.createElement("h1",{className:"title"},"Employee:  ",this.state.selectedEmployee.firstname),n.a.createElement("div",{className:"card border-secondary mb-3"},n.a.createElement("img",{src:o,className:"card-img-top profile-pic",alt:"user-profile"}),n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"card-header"},n.a.createElement("h2",null,t)),n.a.createElement("ul",{className:"list-group list-group-flush"},n.a.createElement("li",{className:"list-group-item list-group-item-action"},a),n.a.createElement("li",{className:"list-group-item list-group-item-action"},l),n.a.createElement("li",{className:"list-group-item list-group-item-action"},"Works Under: ",e),n.a.createElement("li",{className:"list-group-item list-group-item-action"},n.a.createElement("button",{type:"button",className:"button4"},n.a.createElement("a",{href:"/edit/".concat(this.state.selectedEmployee.id)},"Edit ",this.state.selectedEmployee.firstname)))))))}}]),t}(n.a.Component)),x=(a(67),function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(d.a)(t).call(this))).state={employees:[],foundSubordinate:!1,editEmployee:{id:"",firstname:"",lastname:"",phone:"",email:"",work_under_id:"",work_under_name:""},editImage:{id:"",image:""},redirectID:"",redirect:!1,alert:""},e}return Object(u.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;y.a.get("/api/employee/"+t).then((function(t){var a=t.data.selectedEmployee[0];e.setState({editEmployee:a});var l=e.state.editImage;l.id=t.data.selectedEmployee[0].id,e.setState({editImage:l})})).catch((function(e){return console.log(e)})),y.a.get("/api/employees").then((function(t){var a=t.data.employees;console.log({employees:a}),e.setState({employees:a})})).catch((function(e){return console.log(e)}))}},{key:"getFirstName",value:function(e){var t=this.state.editEmployee;t.firstname=e.target.value,this.setState({editEmployee:t}),console.log(this.state.editEmployee)}},{key:"getLastName",value:function(e){var t=this.state.editEmployee;t.lastname=e.target.value,this.setState({editEmployee:t}),console.log(this.state.editEmployee)}},{key:"getPhone",value:function(e){var t=this.state.editEmployee;t.phone=e.target.value,this.setState({editEmployee:t}),console.log(this.state.editEmployee)}},{key:"getEmail",value:function(e){var t=this.state.editEmployee;t.email=e.target.value,this.setState({editEmployee:t}),console.log(this.state.editEmployee)}},{key:"getBoss",value:function(e){var t=this.state.editEmployee;t.work_under_id=e.target.value,t.work_under_name=e.target.selectedOptions[0].text,this.setState({editEmployee:t}),console.log(this.state.editEmployee)}},{key:"getImage",value:function(e){var t=this.state.editImage;t.image=e.target.value,this.setState({editImage:t})}},{key:"editEmployee",value:function(){var e=this,t=this.state.editEmployee;t.firstname&&t.lastname&&t.phone&&t.email?t.email.includes("@")&&t.email.indexOf("@")!==t.email.length-1?y.a.post("/api/editemployee/",{editEmployee:t}).then((function(t){if("error"===t.data.name)console.log(t.data.detail),e.setState({alert:"Email: ".concat(e.state.editEmployee.email," already exists")}),window.scrollTo(0,0);else{var a=t.data.editedEmployee[0].id;e.setState({redirectID:a}),e.setState({redirect:!0})}})).catch((function(e){console.log(e)})):(this.setState({alert:"Please fill in a valid email"}),window.scrollTo(0,0)):(this.setState({alert:"Please fill in all the mandatory details"}),window.scrollTo(0,0))}},{key:"editImage",value:function(){var e=this,t=this.state.editImage;y.a.post("/api/editimage/",{editImage:t}).then((function(t){"error"===t.data.name?(console.log(t.data.detail),e.setState({alert:"Image upload unsuccessful"}),window.scrollTo(0,0)):e.setState({redirect:!0})})).catch((function(e){console.log(e)}))}},{key:"renderRedirect",value:function(){var e=""+this.state.redirectID;if(this.state.redirect&&this.state.redirectID)return n.a.createElement(p.a,{to:"/show/"+e});this.state.redirect&&!this.state.redirectID&&window.location.reload()}},{key:"backToShow",value:function(){var e=this.state.editEmployee.id;this.setState({redirectID:e}),this.setState({redirect:!0})}},{key:"findSame",value:function(){for(var e=this.state.employees,t=0;t<e.length;t++)e[t].id===this.state.editEmployee.id?(console.log("found same"),e.splice(t,1),this.setState({employees:e})):e[t].work_under_id&&(e[t].work_under_id===this.state.editEmployee.id?(console.log("im the boss of "+e[t].firstname),e.splice(t,1),this.setState({employees:e})):(this.findWorkForWho(e[t].id),this.state.foundSubordinate&&(e.splice(t,1),this.setState({employees:e}),this.setState({foundSubordinate:!1}))))}},{key:"findWorkForWho",value:function(e){var t=this,a=""+e;y.a.get("/api/employee/"+a).then((function(e){var a=e.data.selectedEmployee[0];if(a.work_under_id)a.work_under_id===t.state.editEmployee.id?t.setState({foundSubordinate:!0}):t.findWorkForWho(a.work_under_id);else if(a.id===t.state.editEmployee.id)return})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state.employees.map((function(e){return n.a.createElement("option",{key:e.id,value:e.id},e.firstname," ",e.lastname)})),a=null;return this.state.alert&&(a=n.a.createElement("div",{className:"alert alert-danger text-center",role:"alert"},this.state.alert),setTimeout(function(){this.setState({alert:""})}.bind(this),5e3)),this.findSame(),n.a.createElement("div",null,n.a.createElement(v,null),a,this.renderRedirect(),n.a.createElement("div",{className:"container"},n.a.createElement("h1",{className:"title"},"Edit Employee: ",this.state.editEmployee.firstname),n.a.createElement("div",{className:"profile-pic2"},n.a.createElement("img",{src:this.state.editEmployee.image,alt:"user-profile"}),n.a.createElement("button",{className:"button3 mt-3",type:"button","data-toggle":"collapse","data-target":"#collapseExample","aria-expanded":"false","aria-controls":"collapseExample"},"Change Profile Picture")),n.a.createElement("div",{className:"collapse",id:"collapseExample"},n.a.createElement("div",{className:"card card-body"},n.a.createElement("div",{className:"form-group"},n.a.createElement("input",{name:"image",type:"text",className:"form-control",placeholder:"Place image link here",onChange:function(t){return e.getImage(t)}})),n.a.createElement("button",{className:"btn-sm btn-secondary",onClick:function(){return e.editImage()}},"Save"))),n.a.createElement("form",{className:"mb-5 mt-5"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"exampleFormControlInput1"},"First Name *"),n.a.createElement("input",{name:"firstName",type:"text",className:"form-control",id:"exampleFormControlInput1",value:this.state.editEmployee.firstname,required:!0,onChange:function(t){return e.getFirstName(t)}})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"exampleFormControlInput2"},"Last Name *"),n.a.createElement("input",{name:"lastName",type:"text",className:"form-control",id:"exampleFormControlInput2",value:this.state.editEmployee.lastname,required:!0,onChange:function(t){return e.getLastName(t)}})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"exampleFormControlInput3"},"Phone Number *",n.a.createElement("small",{id:"emailHelp",className:"form-text text-muted"},"(Up to 15 characters)")),n.a.createElement("input",{name:"phone",type:"text",className:"form-control",id:"exampleFormControlInput3",value:this.state.editEmployee.phone,required:!0,onChange:function(t){return e.getPhone(t)}})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"exampleFormControlInput4"},"Email Address *"),n.a.createElement("input",{name:"email",type:"email",className:"form-control",id:"exampleFormControlInput4",value:this.state.editEmployee.email,required:!0,onChange:function(t){return e.getEmail(t)}})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"exampleFormControlSelect1"},"Works Under"),n.a.createElement("select",{name:"worksUnder",className:"form-control",id:"exampleFormControlSelect1",onChange:function(t){return e.getBoss(t)}},n.a.createElement("option",{selected:!0,disabled:!0},this.state.editEmployee.work_under_name," "),t,n.a.createElement("option",{value:"nobody"},"Nobody"))),n.a.createElement("button",{type:"button",className:"btn btn-secondary mr-3",onClick:function(){return e.backToShow()}},"Back"),n.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){return e.editEmployee()}},"Save"))))}}]),t}(n.a.Component)),S=function(){return n.a.createElement("main",null,n.a.createElement(p.d,null,n.a.createElement(p.b,{exact:!0,path:"/",component:h}),n.a.createElement(p.b,{exact:!0,path:"/employees",component:b}),n.a.createElement(p.b,{exact:!0,path:"/create",component:N}),n.a.createElement(p.b,{exact:!0,path:"/show/:id",component:k}),n.a.createElement(p.b,{exact:!0,path:"/edit/:id",component:x})))},w=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"main"},n.a.createElement(S,null))}}]),t}(n.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(n.a.createElement(s.a,null,n.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[33,1,2]]]);
//# sourceMappingURL=main.a673b977.chunk.js.map